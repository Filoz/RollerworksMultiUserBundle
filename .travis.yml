language: php

env:
    - SYMFONY_VERSION="2.2.*"
    - SYMFONY_VERSION="2.3.*"
    - SYMFONY_VERSION="dev-master"

# 'symfony/templating' is a hack for https://github.com/symfony/symfony/pull/8280 resulting in method access mismatch  
before_script:
    - COMPOSER_ROOT_VERSION=dev-master
    - composer require symfony/framework-bundle:${SYMFONY_VERSION} --no-update
    - sh -c "if [ '$SYMFONY_VERSION' = '2.2.*' ] || [ '$SYMFONY_VERSION' = '2.3.*' ]; then composer require --no-update symfony/templating:${SYMFONY_VERSION} symfony/security-bundle:${SYMFONY_VERSION} symfony/twig-bundle:${SYMFONY_VERSION} symfony/web-profiler-bundle:${SYMFONY_VERSION} symfony/browser-kit:${SYMFONY_VERSION} symfony/monolog-bundle:${SYMFONY_VERSION}; fi"
    - composer install --dev

php:
  - 5.3
  - 5.4
  - 5.5
  
script: phpunit --configuration phpunit.xml.dist --exclude-group ""
